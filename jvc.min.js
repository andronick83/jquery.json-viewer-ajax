/*! jQuery JVC | https://github.com/andronick83/jquery.json-viewer-callback */
var JVC={};JVC.defOptions={key:void 0,invertColors:!1,withLinks:!0,bigNumbers:!1,withQuotes:!1,withFunctions:!0,collapsed:!1,showConf:!1,showJSON:!1,debug:console.debug,error:console.error,callback:null,onChange:null},JVC.defFontFamily='"Source Code Pro",monospace',JVC.defStyle=`.hljs{background-color:#293134;color:#e0e2e4}.hljs-keyword{color:#93c763;font-style:normal}.hljs-number{color:#ffcd22}.hljs-string{color:#ec7600}.hljs-title{color:#dcdcaa;font-style:normal}.hljs-attr{color:#678cb1}.hljs-comment{color:#818e96;font-style:italic}`,JVC.setProperty=(e,t)=>{document.querySelector(":root").style.setProperty("--jvc-"+e,t)},JVC.setTabSize=(e=4)=>{JVC.setProperty("tab-size",e)},JVC.setTabWidth=(e="33.6px")=>{JVC.setProperty("tab-width",e+"px")},JVC.setLineHeight=(e="18px")=>{JVC.setProperty("line-height",2*Math.ceil(e/2)+"px")},JVC.setFontSize=(e="14px")=>{JVC.setProperty("font-size",e)},JVC.setFontFamily=(e=JVC.defFontFamily)=>{JVC.setProperty("font-family",e)},JVC.setStyle=e=>{var t=e,o=document.querySelector("head"),n=document.querySelectorAll(".jvc-style");if(e||!n.length){n.forEach(e=>{e.classList.remove("jvc-style"),e.classList.add("jvc-style-old")});var r=()=>{document.querySelectorAll(".jvc-style-old").forEach(e=>{e.remove()})},s=(e="")=>{var t=document.createElement("style");t.className="jvc-style",t.append(e),o.append(t),r()};if("no-style"==e)return s();if("jvc-default"==e)return s(JVC.defStyle);JVC.__isUrl(t)||(t="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/"+e+".min.css");var l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.className="jvc-style",l.onload=r,l.setAttribute("href",t),o.append(l)}},JVC.getJSON=e=>{var t=JVC.__nodeData(e,"dom");return t?JVC.__getText(t):(console.error("JVC.getJSON","No JVC element"),!1)},JVC.__isEventExists=(e,t)=>{var o=$._data(e,"events");return o&&t in o},JVC.__isUrl=e=>{try{let t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(o){return!1}},JVC.__objDiff=(e,t)=>{var o={};for(let[n,r]of Object.entries(e))n in t&&r!==t[n]&&(o[n]=t[n]);return o},JVC.__objFix=e=>{var t=typeof e;if("function"===t||"undefined"===t)return e+"";if("object"===t)for(var o in e)e.hasOwnProperty(o)&&(e[o]=JVC.__objFix(e[o]));return e},JVC.__nodeData=(e,t,o=null)=>("__jvc"in e||(e.__jvc={}),null===o)?e.__jvc[t]:(e.__jvc[t]=o,o),JVC.__getText=e=>{e.property.hidden=e.colon.hidden=!0;var t=e.root.innerText;return e.property.hidden=e.colon.hidden=!1,t},JVC.__tabObserver=()=>{var e=document.querySelector(".jvc-tab-observer"),t=10;if(e)return;(e=document.createElement("span")).classList.add("jvc","jvc-tab-observer"),e.append("	".repeat(t)),document.querySelector("body").append(e);var o=()=>{var o=e.offsetWidth/t,n=e.offsetHeight;o+n!=0&&(JVC.setTabWidth(o),JVC.setLineHeight(n))};let n=new ResizeObserver(e=>{e.forEach(o)});return n.observe(e),o()},JVC.nSpan=document.createElement("span"),JVC.nRoot=JVC.nSpan.cloneNode(),JVC.nRoot.className="jvc-root",JVC.nItem=JVC.nSpan.cloneNode(),JVC.nItem.className="jvc-item",JVC.nSpace=JVC.nSpan.cloneNode(),JVC.nSpace.className="jvc-space",JVC.nSpace.innerText=" ",JVC.nTabs=JVC.nSpace.cloneNode(),JVC.nTabs.classList.add("jvc-tabs"),JVC.nQuote=JVC.nSpan.cloneNode(),JVC.nQuote.className="jvc-quote",JVC.nQuote.innerText='"',JVC.nProperty=JVC.nSpan.cloneNode(),JVC.nProperty.className="hljs-attr",JVC.nPunct=JVC.nSpan.cloneNode(),JVC.nPunct.className="hljs-punctuation",JVC.nValue=JVC.nSpan.cloneNode(),JVC.nValue.className="jvc-value",JVC.nComma=JVC.nPunct.cloneNode(),JVC.nComma.classList.add("jvc-comma"),JVC.nComma.innerHTML=",",JVC.nComment=JVC.nSpan.cloneNode(),JVC.nComment.className="hljs-comment",JVC.nList=JVC.nSpan.cloneNode(),JVC.nList.className="jvc-list",JVC.nPrefix=JVC.nSpan.cloneNode(),JVC.nPrefix.className="jvc-prefix",JVC.nSuffix=JVC.nSpan.cloneNode(),JVC.nSuffix.className="jvc-suffix",JVC.nLink=document.createElement("a"),JVC.nLink.setAttribute("target","_blank"),JVC.nLogs=JVC.nSpan.cloneNode(),JVC.nLogs.classList.add("hljs-comment","jvc-logs"),function(e){function t(e,o,l,a){var c={level:l,_list:null};c.root=JVC.nItem.cloneNode();var i=JVC.nTabs.cloneNode();c.property=JVC.nProperty.cloneNode(),c.colon=JVC.nPunct.cloneNode(),c.value=JVC.nValue.cloneNode(),c.braceStart=JVC.nPunct.cloneNode();var d=JVC.nComma.cloneNode(!0);c.pholder=JVC.nComment.cloneNode(),c.braceEnd=JVC.nPunct.cloneNode(),c.list=JVC.nList.cloneNode();var p=JVC.nPrefix.cloneNode(),C=JVC.nSuffix.cloneNode();return JVC.__nodeData(c.root,"dom",c),l&&i.append("	".repeat(l)),void 0!==e&&(l&&c.property.append(JVC.nQuote.cloneNode(!0)),c.property.append(JSON.stringify(e).slice(1,-1)),l?(c.property.append(JVC.nQuote.cloneNode(!0)),c.colon.append(":",JVC.nSpace.cloneNode(!0))):c.colon.append(JVC.nSpace.cloneNode(!0),"=",JVC.nSpace.cloneNode(!0)),"jvc-fail"===e&&c.value.classList.add("jvc-fail")),p.append(i,c.property,c.colon,c.value,c.braceStart,d,c.pholder),C.append(i.cloneNode(!0),c.braceEnd,d.cloneNode(!0)),c.root.append(p,c.list,C),function e(o,l,a,c){if("string"==typeof l){var i,d,p,C=JSON.stringify(l);if(c.withLinks&&JVC.__isUrl(l)){return d=o,p=C.slice(1,-1),(i=JVC.nLink.cloneNode(!0)).setAttribute("href",p),i.innerText=p,d.value.classList.add("hljs-string"),d.value.append('"',i,'"'),d}return n(o,C,"string")}return null===l||"boolean"==typeof l?n(o,l+"","keyword"):"number"==typeof l||"bigint"==typeof l?n(o,l,"number"):l instanceof Array?function e(o,n,l,a){var c=n.length,i=a.collapsed&&("number"!=typeof a.collapsed||a.collapsed<=l);if(!c)return r(o,"[]"),o;o.root.classList.add("jvc-toggle"),i&&o.root.classList.add("jvc-collapsed"),r(o,"[","]"),s(o,c+(c>1?" items":" item"),a),o._list=[];for(var d=0;d<c;++d)o._list.push(t(void 0,n[d],l+1,a).root);return i||o.list.append.apply(o.list,o._list),o}(o,l,a,c):"object"==typeof l&&c.bigNumbers&&("function"==typeof l.toExponential||l.isLosslessNumber)?n(o,l.toString(),"number"):"object"==typeof l?function e(o,n,l,a){var c=Object.keys(n).length,i=a.collapsed&&("number"!=typeof a.collapsed||a.collapsed<=l);if(!c)return r(o,"{}"),o;if(o.root.classList.add("jvc-toggle"),i&&o.root.classList.add("jvc-collapsed"),r(o,"{","}"),"jvc-cb"in n)return o.root.classList.add("jvc-collapsed","jvc-callback"),o.jvcCb=n["jvc-cb"],s(o,"jvc-cb: "+JSON.stringify(n["jvc-cb"]),a);for(var d in s(o,c+(c>1?" items":" item"),a),o._list=[],n)Object.prototype.hasOwnProperty.call(n,d)&&o._list.push(t(d,n[d],l+1,a).root);return i||o.list.append.apply(o.list,o._list),o}(o,l,a,c):n(o,l+"","string")}(c,o,l,a)}function o(e,t,o){return e[o].replaceWith(t[o]),e[o]=t[o],e}function n(e,t,o){return e.value.classList.add("hljs-"+o),e.value.append(t),e}function r(e,t,o=!1){return e.braceStart.append(t),!1!==o&&e.braceEnd.append(o),e}function s(e,t,o){return e.pholder.setAttribute("data-pholder"," "+t+" "),e}function l(e,t){return null!==e._list&&e.list.append.apply(e.list,e._list),e.root.classList.remove("jvc-collapsed"),i(e,t)}function a(e,t){return e.jvcCb,e.root.classList.add("jvc-collapsed"),e.list.innerHTML="",i(e,t)}function c(e){return e.root.classList.contains("jvc-collapsed")}function i(t,o){var n=t.root.closest(".jvc"),r=JVC.__isEventExists(n,"JVC:change");if(!o.showJSON&&!r)return t;if(o.showJSON){var s=n.querySelector(".jvc-logs.jvc-json");s.innerHTML="",s.append("// JSON:\n"+JVC.getJSON(n))}return r&&e(n).trigger("JVC:change",[n]),t}e.fn.JVC=function(n,r){JVC.setStyle(),JVC.__tabObserver();var s=Object.assign({},JVC.defOptions,r);return s.debug("JVC",{obj:n,options:s}),n=JVC.__objFix(n),this.each(function(){var d=this;if(d.innerHTML="",d.classList.add("jvc","hljs"),s.invertColors&&d.classList.add("jvc-invert"),s.withQuotes||d.classList.add("jvc-no-quotes"),s.showConf){var p=JVC.nLogs.cloneNode();p.classList.add("jvc-conf"),p.append("// Conf: "+JSON.stringify(JVC.__objDiff(JVC.defOptions,r))),d.prepend(p)}var C=t(s.key,n,0,s),J=JVC.nRoot.cloneNode();if(J.append(C.root),d.append(J),s.showJSON){var p=JVC.nLogs.cloneNode();p.classList.add("jvc-json"),d.append(p)}JVC.__nodeData(d,"conf",s),JVC.__nodeData(d,"dom",C),i(C,s),e(d).off("click").on("click",".jvc-toggle>:not(.jvc-list)",function(){var n,r,p=JVC.__nodeData(this.closest(".jvc-toggle"),"dom");if(console.log(this.closest(".jvc-toggle"),p),void 0===p.jvcCb)return n=p,r=s,c(n)?l(n,r):a(n,r);if(!c(p))return a(p,s);var C=p.level;return JVC.__isEventExists(d,"JVC:callback")?(p.root.classList.add("jvc-loading"),e(d).trigger("JVC:callback",[p.root,p.jvcCb,function(e){var n,r,c,i,d,J;n=p,r=e,c=C,(i=s).debug("JVC:callback",r),d=t(void 0,r=JVC.__objFix(r),c,i),(n._list=d._list,o(n,d,"value"),o(n,d,"braceStart"),o(n,d,"braceEnd"),o(n,d,"list"),n.root.classList.remove("jvc-loading"),(J=d).root.classList.contains("jvc-toggle"))?l(n,i):(n.root.classList.add("jvc-no-obj"),a(n,i))}]),!1):(s.error("JVC",'Not set "JVC:callback" trigger'),p.list.append(t("jvc-fail",'Not set "JVC:callback" trigger',C,s).root),i(p,s))})})}}(jQuery);
